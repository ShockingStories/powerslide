function updateCars(r){document.getElementById("carNumber").value=r,document.getElementById("carRange").value=r;var t=shockingUpdate({electric_cars:r});updateGraph("gwh-chart",t.gen_production),updateGraph("co2-chart",{Geothermal:t.gen_emissions.Geothermal,Coal:t.gen_emissions.Coal,Gas:t.gen_emissions.Gas,Road:t.fleet_emissions.Road})}function columnGraph(r,t){for(var n=80,e=300,a=d3.select(r).append("svg:svg").attr("class","chart").attr("width",n).attr("height",e).append("svg:g").attr("transform","translate(0,300)"),o=[t],s=[],l=0;l<o[0].length-1;l++)s.push("rgb("+randomRGB()+","+randomRGB()+","+randomRGB()+")");x=d3.scale.ordinal().rangeRoundBands([0,n]),y=d3.scale.linear().range([0,e]),z=d3.scale.ordinal().range(s);var i=["c1","c2","c3","c4","c5"].map(function(r,t){return o.map(function(r,n){return{x:n,y:r[t+1]}})}),d=d3.layout.stack()(i);x.domain(d[0].map(function(r){return r.x})),y.domain([0,d3.max(d[d.length-1],function(r){return r.y0+r.y})]);{var c=a.selectAll("g.valgroup").data(d).enter().append("svg:g").attr("class","valgroup").style("fill",function(r,t){return z(t)}).style("stroke",function(r,t){return d3.rgb(z(t)).darker()});c.selectAll("rect").data(function(r){return r}).enter().append("svg:rect").attr("x",function(r){return x(r.x)}).attr("y",function(r){return-y(r.y0)-y(r.y)}).attr("height",function(r){return y(r.y)}).attr("width",Math.min.apply(null,[x.rangeBand()-2,100]))}}function preprocessData(r){var t=[1],n=0;for(var e in r)r.hasOwnProperty(e)&&(n+=r[e],t.push(r[e]));for(var a=1;a<t.length;a++)t[a]=Math.round(t[a]/n*100);return t}function updateTotal(r,t){var n=0;for(var e in t)t.hasOwnProperty(e)&&(n+=t[e]);document.getElementById(r+"-total").innerHTML=Math.round(n)}function updateGraph(r,t){var n=80,e=300;updateTotal(r.split("-")[0],t);for(var a=document.getElementById(r);a.firstChild;)a.removeChild(a.firstChild);for(var o=d3.select("#"+r).append("svg:svg").attr("class","chart").attr("width",n).attr("height",e).append("svg:g").attr("transform","translate(0,"+e+")"),s=[preprocessData(t)],l=[],i=0;i<s[0].length-1;i++)l.push("rgb("+randomRGB()+","+randomRGB()+","+randomRGB()+")");x=d3.scale.ordinal().rangeRoundBands([0,n]),y=d3.scale.linear().range([0,e]),z=d3.scale.ordinal().range(l);for(var d=[],i=1;i<s[0].length;i++)d.push("c"+i);var c=d.map(function(r,t){return s.map(function(r,n){return{x:n,y:r[t+1]}})}),u=d3.layout.stack()(c);x.domain(u[0].map(function(r){return r.x})),y.domain([0,d3.max(u[u.length-1],function(r){return r.y0+r.y})]);{var g=o.selectAll("g.valgroup").data(u).enter().append("svg:g").attr("class","valgroup").style("fill",function(r,t){return z(t)}).style("stroke",function(r,t){return d3.rgb(z(t)).darker()});g.selectAll("rect").data(function(r){return r}).enter().append("svg:rect").attr("x",function(r){return x(r.x)}).attr("y",function(r){return-y(r.y0)-y(r.y)}).attr("height",function(r){return y(r.y)}).attr("width",Math.min.apply(null,[x.rangeBand()-2,100]))}}function randomRGB(){return Math.floor(256*Math.random())}function shockingUpdate(r){console.log("shockingUpdate - Inputs: "+JSON.stringify(r));var t={Hydro:24095,Geothermal:6487,Wind:2187,Coal:1832,Gas:6626},n={Hydro:0,Geothermal:847.32,Wind:0,Coal:1222.2,Gas:3405.51},e={Hydro:100,Geothermal:150,Wind:200,Coal:250,Gas:300},a={Road:12688},o=r.electric_cars,s=o/100;a.Road=a.Road*(1-s),ev_power_reqts=2406.4*3341013*s,ev_power_reqts/=1e6;var l=0;for(var i in t)l+=t[i];var d=1+ev_power_reqts/l;console.log("total: "+l),console.log("increase from electric vehicles: "+d),console.log("ev_power_reqts "+ev_power_reqts);for(var i in n)n[i]=n[i]*d;for(var i in t)t[i]=t[i]*d;for(var i in n)n[i]=n[i]*d;for(var i in e)e[i]=e[i]*d;var c={gen_production:t,gen_emissions:n,gen_cost:e,fleet_emissions:a};return console.log("Result: "+JSON.stringify(c)),c}function getBaseline(){var r={Hydro:24095,Geothermal:6487,Wind:2187,Coal:1832,Gas:6626},t={Hydro:0,Geothermal:847.32,Wind:0,Coal:1222.2,Gas:3405.51},n={Hydro:100,Geothermal:150,Wind:200,Coal:250,Gas:300},e={gen_production:r,gen_emissions:t,gen_cost:n};return e}function mockGWh(){return{Hydro:24095,Geothermal:6487,Wind:2187,Coal:1832,Gas:6626}}function mockAdjustGWh(){return{Hydro:24,Geothermal:648,Wind:1218,Coal:832,Gas:362}}function mockGenerationEmissions(){return{Hydro:0,Geothermal:847.32,Wind:0,Coal:1222.2,Gas:3405.51}}function mockFleetEmissions(){return{Road:12688}}document.addEventListener("DOMContentLoaded",function(r){updateCars(0),columnGraph("#cost-chart",[1,10,15,15,35,50]),columnGraph("#investment-chart",[1,5,10,15,45,50])});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImNoYXJ0LmpzIiwiZW5naW5lLmpzIiwibW9jay5qcyJdLCJuYW1lcyI6WyJ1cGRhdGVDYXJzIiwidmFsdWUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZGF0YSIsInNob2NraW5nVXBkYXRlIiwiZWxlY3RyaWNfY2FycyIsInVwZGF0ZUdyYXBoIiwiZ2VuX3Byb2R1Y3Rpb24iLCJHZW90aGVybWFsIiwiZ2VuX2VtaXNzaW9ucyIsIkNvYWwiLCJHYXMiLCJSb2FkIiwiZmxlZXRfZW1pc3Npb25zIiwiY29sdW1uR3JhcGgiLCJiaW5kVG8iLCJ2YWx1ZXMiLCJ3IiwiaCIsInN2ZyIsImQzIiwic2VsZWN0IiwiYXBwZW5kIiwiYXR0ciIsIm1hdHJpeCIsImNvbG9ycyIsImkiLCJsZW5ndGgiLCJwdXNoIiwicmFuZG9tUkdCIiwieCIsInNjYWxlIiwib3JkaW5hbCIsInJhbmdlUm91bmRCYW5kcyIsInkiLCJsaW5lYXIiLCJyYW5nZSIsInoiLCJyZW1hcHBlZCIsIm1hcCIsImRhdCIsImQiLCJpaSIsInN0YWNrZWQiLCJsYXlvdXQiLCJzdGFjayIsImRvbWFpbiIsIm1heCIsInkwIiwidmFsZ3JvdXAiLCJzZWxlY3RBbGwiLCJlbnRlciIsInN0eWxlIiwicmdiIiwiZGFya2VyIiwiTWF0aCIsIm1pbiIsImFwcGx5IiwicmFuZ2VCYW5kIiwicHJlcHJvY2Vzc0RhdGEiLCJ0b3RhbCIsImsiLCJoYXNPd25Qcm9wZXJ0eSIsInJvdW5kIiwidXBkYXRlVG90YWwiLCJwcmVmaXgiLCJpbm5lckhUTUwiLCJzcGxpdCIsImVsZW1lbnQiLCJmaXJzdENoaWxkIiwicmVtb3ZlQ2hpbGQiLCJhIiwiZmxvb3IiLCJyYW5kb20iLCJpbnB1dHMiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsIkh5ZHJvIiwiV2luZCIsImdlbl9jb3N0IiwiZWxlY3RyaWNfcGN0IiwiZXZfcG93ZXJfcmVxdHMiLCJ0b3RhbF9nZW4iLCJrZXkiLCJpbmNyZWFzZV9pbl9wb3dlcl9yZXF0cyIsInJlc3VsdCIsImdldEJhc2VsaW5lIiwibW9ja0dXaCIsIm1vY2tBZGp1c3RHV2giLCJtb2NrR2VuZXJhdGlvbkVtaXNzaW9ucyIsIm1vY2tGbGVldEVtaXNzaW9ucyIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCJdLCJtYXBwaW5ncyI6IkFBV0EsUUFBQUEsWUFBQUMsR0FDQUMsU0FBQUMsZUFBQSxhQUFBRixNQUFBQSxFQUNBQyxTQUFBQyxlQUFBLFlBQUFGLE1BQUFBLENBRUEsSUFBQUcsR0FBQUMsZ0JBQUFDLGNBQUFMLEdBRUFNLGFBQUEsWUFBQUgsRUFBQUksZ0JBQ0FELFlBQUEsYUFDQUUsV0FBQUwsRUFBQU0sY0FBQSxXQUNBQyxLQUFBUCxFQUFBTSxjQUFBLEtBQ0FFLElBQUFSLEVBQUFNLGNBQUEsSUFDQUcsS0FBQVQsRUFBQVUsZ0JBQUEsT0N0QkEsUUFBQUMsYUFBQUMsRUFBQUMsR0FlQSxJQUFBLEdBZEFDLEdBQUEsR0FDQUMsRUFBQSxJQUVBQyxFQUFBQyxHQUFBQyxPQUFBTixHQUFBTyxPQUFBLFdBQ0FDLEtBQUEsUUFBQSxTQUNBQSxLQUFBLFFBQUFOLEdBQ0FNLEtBQUEsU0FBQUwsR0FDQUksT0FBQSxTQUNBQyxLQUFBLFlBQUEsb0JBRUFDLEdBQUFSLEdBR0FTLEtBQ0FDLEVBQUEsRUFBQUEsRUFBQUYsRUFBQSxHQUFBRyxPQUFBLEVBQUFELElBQ0FELEVBQUFHLEtBQUEsT0FBQUMsWUFBQSxJQUFBQSxZQUFBLElBQUFBLFlBQUEsSUFHQUMsR0FBQVYsR0FBQVcsTUFBQUMsVUFBQUMsaUJBQUEsRUFBQWhCLElBQ0FpQixFQUFBZCxHQUFBVyxNQUFBSSxTQUFBQyxPQUFBLEVBQUFsQixJQUNBbUIsRUFBQWpCLEdBQUFXLE1BQUFDLFVBQUFJLE1BQUFYLEVBRUEsSUFBQWEsSUFBQSxLQUFBLEtBQUEsS0FBQSxLQUFBLE1BQUFDLElBQUEsU0FBQUMsRUFBQWQsR0FDQSxNQUFBRixHQUFBZSxJQUFBLFNBQUFFLEVBQUFDLEdBQ0EsT0FBQVos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QUEsSUFDQXRFLEtBQUEsSUFDQUMsSUFBQSxLQUdBNEUsR0FDQWhGLGVBQUFBLEVBQ0FFLGNBQUFBLEVBQ0F3RSxTQUFBQSxFQUdBLE9BQUFNLEdDdkpBLFFBQUFFLFdBQ0EsT0FDQVYsTUFBQSxNQUNBdkUsV0FBQSxLQUNBd0UsS0FBQSxLQUNBdEUsS0FBQSxLQUNBQyxJQUFBLE1BSUEsUUFBQStFLGlCQUNBLE9BQ0FYLE1BQUEsR0FDQXZFLFdBQUEsSUFDQXdFLEtBQUEsS0FDQXRFLEtBQUEsSUFDQUMsSUFBQSxLQUlBLFFBQUFnRiwyQkFDQSxPQUNBWixNQUFBLEVBQ0F2RSxXQUFBLE9BQ0F3RSxLQUFBLEVBQ0F0RSxLQUFBLE9BQ0FDLElBQUEsU0FJQSxRQUFBaUYsc0JBQ0EsT0FDQWhGLEtBQUEsT0hoQ0FYLFNBQUE0RixpQkFBQSxtQkFBQSxTQUFBQyxHQUNBL0YsV0FBQSxHQUNBZSxZQUFBLGVBQ0EsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBRUFBLFlBQUEscUJBQ0EsRUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBIiwiZmlsZSI6ImpzL2FsbC5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gIHVwZGF0ZUNhcnMoMCk7XG4gIGNvbHVtbkdyYXBoKFwiI2Nvc3QtY2hhcnRcIiwgW1xuICAgIDEsIDEwLCAxNSwgMTUsIDM1LCA1MFxuICBdKTtcbiAgY29sdW1uR3JhcGgoXCIjaW52ZXN0bWVudC1jaGFydFwiLCBbXG4gICAgMSwgNSwgMTAsIDE1LCA0NSwgNTBcbiAgXSk7XG59KTtcblxuXG5mdW5jdGlvbiB1cGRhdGVDYXJzICh2YWx1ZSkge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyTnVtYmVyJykudmFsdWUgPSB2YWx1ZTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhclJhbmdlJykudmFsdWUgPSB2YWx1ZTtcblxuICB2YXIgZGF0YSA9IHNob2NraW5nVXBkYXRlKHsnZWxlY3RyaWNfY2Fycyc6IHZhbHVlfSk7XG5cbiAgdXBkYXRlR3JhcGgoJ2d3aC1jaGFydCcsIGRhdGEuZ2VuX3Byb2R1Y3Rpb24pO1xuICB1cGRhdGVHcmFwaCgnY28yLWNoYXJ0Jywge1xuICAgICdHZW90aGVybWFsJzogZGF0YS5nZW5fZW1pc3Npb25zWydHZW90aGVybWFsJ10sXG4gICAgJ0NvYWwnOiBkYXRhLmdlbl9lbWlzc2lvbnNbJ0NvYWwnXSxcbiAgICAnR2FzJzogZGF0YS5nZW5fZW1pc3Npb25zWydHYXMnXSxcbiAgICAnUm9hZCc6IGRhdGEuZmxlZXRfZW1pc3Npb25zWydSb2FkJ11cbiAgfSk7XG59XG5cbiIsImZ1bmN0aW9uIGNvbHVtbkdyYXBoIChiaW5kVG8sIHZhbHVlcykge1xuICB2YXIgdyA9IDgwO1xuICB2YXIgaCA9IDMwMDtcblxuICB2YXIgc3ZnID0gZDMuc2VsZWN0KGJpbmRUbykuYXBwZW5kKFwic3ZnOnN2Z1wiKVxuICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjaGFydFwiKVxuICAgIC5hdHRyKFwid2lkdGhcIiwgdylcbiAgICAuYXR0cihcImhlaWdodFwiLCBoIClcbiAgICAuYXBwZW5kKFwic3ZnOmdcIilcbiAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLDMwMClcIik7XG5cbiAgdmFyIG1hdHJpeCA9IFt2YWx1ZXNdO1xuXG4gIC8vIFJhbmRvbSBmb3Igbm93XG4gIHZhciBjb2xvcnMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXRyaXhbMF0ubGVuZ3RoIC0xOyBpKyspIHtcbiAgICBjb2xvcnMucHVzaCgncmdiKCcgKyByYW5kb21SR0IoKSArICcsJyArIHJhbmRvbVJHQigpICsgJywnICsgcmFuZG9tUkdCKCkgKyAnKScpO1xuICB9XG5cbiAgeCA9IGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZVJvdW5kQmFuZHMoWzAsIHddKTtcbiAgeSA9IGQzLnNjYWxlLmxpbmVhcigpLnJhbmdlKFswLCBoXSk7XG4gIHogPSBkMy5zY2FsZS5vcmRpbmFsKCkucmFuZ2UoY29sb3JzKTtcblxuICB2YXIgcmVtYXBwZWQgPVtcImMxXCIsXCJjMlwiLFwiYzNcIixcImM0XCIsXCJjNVwiXS5tYXAoZnVuY3Rpb24oZGF0LGkpe1xuICAgIHJldHVybiBtYXRyaXgubWFwKGZ1bmN0aW9uKGQsaWkpe1xuICAgICAgcmV0dXJuIHt4OiBpaSwgeTogZFtpKzFdIH07XG4gICAgfSlcbiAgfSk7XG5cbiAgdmFyIHN0YWNrZWQgPSBkMy5sYXlvdXQuc3RhY2soKShyZW1hcHBlZCk7XG5cbiAgeC5kb21haW4oc3RhY2tlZFswXS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC54OyB9KSk7XG4gIHkuZG9tYWluKFswLCBkMy5tYXgoc3RhY2tlZFtzdGFja2VkLmxlbmd0aCAtIDFdLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnkwICsgZC55OyB9KV0pO1xuXG4gIHZhciB2YWxncm91cCA9IHN2Zy5zZWxlY3RBbGwoXCJnLnZhbGdyb3VwXCIpXG4gICAgLmRhdGEoc3RhY2tlZClcbiAgICAuZW50ZXIoKS5hcHBlbmQoXCJzdmc6Z1wiKVxuICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ2YWxncm91cFwiKVxuICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4geihpKTsgfSlcbiAgICAuc3R5bGUoXCJzdHJva2VcIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gZDMucmdiKHooaSkpLmRhcmtlcigpOyB9KTtcblxuICB2YXIgcmVjdCA9IHZhbGdyb3VwLnNlbGVjdEFsbChcInJlY3RcIilcbiAgICAuZGF0YShmdW5jdGlvbihkKXtyZXR1cm4gZDt9KVxuICAgIC5lbnRlcigpLmFwcGVuZChcInN2ZzpyZWN0XCIpXG4gICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC54KTsgfSlcbiAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gLXkoZC55MCkgLSB5KGQueSk7IH0pXG4gICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geShkLnkpOyB9KVxuICAgIC5hdHRyKFwid2lkdGhcIiwgTWF0aC5taW4uYXBwbHkobnVsbCwgW3gucmFuZ2VCYW5kKCktMiwgMTAwXSkpO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzRGF0YSAoZGF0YSkge1xuICAvLyBIb3JyaWJsZSBrbHVkZ2UgdG8gZ2V0IHRoaW5ncyB3b3JraW5nIGZvciBwcm9vZiBvZiBjb25jZXB0Li4uXG4gIHZhciB2YWx1ZXMgPSBbMV07XG4gIHZhciB0b3RhbCA9IDA7XG4gIGZvciAodmFyIGsgaW4gZGF0YSkge1xuICAgIGlmKGRhdGEuaGFzT3duUHJvcGVydHkoaykpe1xuICAgICAgdG90YWwgKz0gZGF0YVtrXTtcbiAgICAgIHZhbHVlcy5wdXNoKGRhdGFba10pO1xuICAgIH1cbiAgfVxuXG4gIC8vIE5lZWQgcGVyY2VudCB2YWx1ZXMgZm9yIGNoYXJ0XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFsdWVzW2ldID0gTWF0aC5yb3VuZCgodmFsdWVzW2ldIC8gdG90YWwpICogMTAwKTtcbiAgfVxuXG4gIHJldHVybiB2YWx1ZXM7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVRvdGFsKHByZWZpeCwgZGF0YSkge1xuICB2YXIgdG90YWwgPSAwO1xuICBmb3IgKHZhciBrIGluIGRhdGEpIHtcbiAgICBpZihkYXRhLmhhc093blByb3BlcnR5KGspKXtcbiAgICAgIHRvdGFsICs9IGRhdGFba107XG4gICAgfVxuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCArICctdG90YWwnKS5pbm5lckhUTUwgPSBNYXRoLnJvdW5kKHRvdGFsKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlR3JhcGggKGJpbmRUbywgZGF0YSkge1xuICB2YXIgdyA9IDgwO1xuICB2YXIgaCA9IDMwMDtcblxuICB1cGRhdGVUb3RhbChiaW5kVG8uc3BsaXQoJy0nKVswXSwgZGF0YSk7XG5cbiAgLy8gSGFja3k6IHJlbW92ZSBjaGFydCBpZiBpdCBleGlzdHNcbiAgLy8gVE9ETzogdHJhbnNpdGlvbiFcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiaW5kVG8pO1xuICB3aGlsZSAoZWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xuICB9XG5cbiAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgnIycgKyBiaW5kVG8pLmFwcGVuZChcInN2ZzpzdmdcIilcbiAgICAuYXR0cihcImNsYXNzXCIsIFwiY2hhcnRcIilcbiAgICAuYXR0cihcIndpZHRoXCIsIHcpXG4gICAgLmF0dHIoXCJoZWlnaHRcIiwgaCApXG4gICAgLmFwcGVuZChcInN2ZzpnXCIpXG4gICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGggKyBcIilcIik7XG5cbiAgdmFyIG1hdHJpeCA9IFtwcmVwcm9jZXNzRGF0YShkYXRhKV07XG5cbiAgLy8gUmFuZG9tIGZvciBub3dcbiAgdmFyIGNvbG9ycyA9IFtdO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG1hdHJpeFswXS5sZW5ndGggLTE7IGkrKykge1xuICAgIGNvbG9ycy5wdXNoKCdyZ2IoJyArIHJhbmRvbVJHQigpICsgJywnICsgcmFuZG9tUkdCKCkgKyAnLCcgKyByYW5kb21SR0IoKSArICcpJyk7XG4gIH1cblxuICB4ID0gZDMuc2NhbGUub3JkaW5hbCgpLnJhbmdlUm91bmRCYW5kcyhbMCwgd10pO1xuICB5ID0gZDMuc2NhbGUubGluZWFyKCkucmFuZ2UoWzAsIGhdKTtcbiAgeiA9IGQzLnNjYWxlLm9yZGluYWwoKS5yYW5nZShjb2xvcnMpO1xuXG4gIC8vIENvcGUgd2l0aCB2YXJpYWJsZSBudW1iZXIgb2YgcHJvcGVydGllcywgZm9yIG5vd1xuICB2YXIgYSA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IG1hdHJpeFswXS5sZW5ndGg7IGkrKykge1xuICAgIGEucHVzaChcImNcIiArIGkpO1xuICB9XG4gIC8vdmFyIHJlbWFwcGVkID0gW1wiYzFcIixcImMyXCIsXCJjM1wiLFwiYzRcIixcImM1XCJdLm1hcChmdW5jdGlvbihkYXQsaSl7XG4gIHZhciByZW1hcHBlZCA9IGEubWFwKGZ1bmN0aW9uKGRhdCxpKXtcbiAgICByZXR1cm4gbWF0cml4Lm1hcChmdW5jdGlvbihkLGlpKXtcbiAgICAgIHJldHVybiB7eDogaWksIHk6IGRbaSsxXSB9O1xuICAgIH0pXG4gIH0pO1xuXG4gIHZhciBzdGFja2VkID0gZDMubGF5b3V0LnN0YWNrKCkocmVtYXBwZWQpXG5cbiAgeC5kb21haW4oc3RhY2tlZFswXS5tYXAoZnVuY3Rpb24oZCkgeyByZXR1cm4gZC54OyB9KSk7XG4gIHkuZG9tYWluKFswLCBkMy5tYXgoc3RhY2tlZFtzdGFja2VkLmxlbmd0aCAtIDFdLCBmdW5jdGlvbihkKSB7IHJldHVybiBkLnkwICsgZC55OyB9KV0pO1xuXG4gIHZhciB2YWxncm91cCA9IHN2Zy5zZWxlY3RBbGwoXCJnLnZhbGdyb3VwXCIpXG4gICAgLmRhdGEoc3RhY2tlZClcbiAgICAuZW50ZXIoKS5hcHBlbmQoXCJzdmc6Z1wiKVxuICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ2YWxncm91cFwiKVxuICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4geihpKTsgfSlcbiAgICAuc3R5bGUoXCJzdHJva2VcIiwgZnVuY3Rpb24oZCwgaSkgeyByZXR1cm4gZDMucmdiKHooaSkpLmRhcmtlcigpOyB9KTtcblxuICB2YXIgcmVjdCA9IHZhbGdyb3VwLnNlbGVjdEFsbChcInJlY3RcIilcbiAgICAuZGF0YShmdW5jdGlvbihkKXtyZXR1cm4gZDt9KVxuICAgIC5lbnRlcigpLmFwcGVuZChcInN2ZzpyZWN0XCIpXG4gICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIHgoZC54KTsgfSlcbiAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4gLXkoZC55MCkgLSB5KGQueSk7IH0pXG4gICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24oZCkgeyByZXR1cm4geShkLnkpOyB9KVxuICAgIC5hdHRyKFwid2lkdGhcIiwgTWF0aC5taW4uYXBwbHkobnVsbCwgW3gucmFuZ2VCYW5kKCktMiwgMTAwXSkpO1xufVxuXG5mdW5jdGlvbiByYW5kb21SR0IgKCkge1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjU2KTtcbn1cbiIsIi8vIHJlZmVyZW5jZTogaHR0cHM6Ly9kb2NzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzL2QvMXJqWlpnMTlnSDRTVDNYRmZQYVVtdmdDOTBBQ0tnUnc4eC1NZ29vemtMZkkvZWRpdCNnaWQ9MFxuXG5cbmZ1bmN0aW9uIHNob2NraW5nVXBkYXRlKGlucHV0cykge1xuXG5cdGNvbnNvbGUubG9nKFwic2hvY2tpbmdVcGRhdGUgLSBJbnB1dHM6IFwiICsgSlNPTi5zdHJpbmdpZnkoaW5wdXRzKSk7XG5cblx0Ly92YXIgYmFzZWxpbmUgPSBnZXRCYXNlbGluZSgpO1xuXG5cdC8vIGFubnVhbCBnZW5lcmF0aW9uIGluIEdpZ2F3YXR0IEhvdXJzXG5cdHZhciBnZW5fcHJvZHVjdGlvbiA9IHtcblx0XHQnSHlkcm8nOiAyNDA5NSxcblx0XHQnR2VvdGhlcm1hbCc6IDY0ODcsXG5cdFx0J1dpbmQnOiAyMTg3LFxuXHRcdCdDb2FsJzogMTgzMixcblx0XHQnR2FzJzogNjYyNlxuXHR9XG5cblx0Ly8gYW5udWFsIGdlbmVyYXRpb24gZW1pc3Npb25zIGluIEtpbG90b25zIG9mIENPMiBFcXVpdmFsZW50XG5cdHZhciBnZW5fZW1pc3Npb25zID0ge1xuXHRcdCdIeWRybyc6IDAsXG5cdFx0J0dlb3RoZXJtYWwnOiA4NDcuMzIsXG5cdFx0J1dpbmQnOiAwLFxuXHRcdCdDb2FsJzogMTIyMi4yLFxuXHRcdCdHYXMnOiAzNDA1LjUxXG5cdH1cblxuXHQvLyBhbm51YWwgZ2VuZXJhdGlvbiBjb3N0cyBpbiAuLi4/XG5cdC8vIFRPRE86IHdhaXRpbmcgZm9yIHRoZSBhY3R1YWwgbnVtYmVyc1xuXHR2YXIgZ2VuX2Nvc3QgPSB7XG5cdFx0J0h5ZHJvJzogMTAwLFxuXHRcdCdHZW90aGVybWFsJzogMTUwLFxuXHRcdCdXaW5kJzogMjAwLFxuXHRcdCdDb2FsJzogMjUwLFxuXHRcdCdHYXMnOiAzMDBcblx0fVxuXG5cblx0Ly8gYW5udWFsIHZlaGljbGUgZmxlZXQgZW1pc3Npb25zIGluIEtpbG90b25zIG9mIENPMiBFcXVpdmFsZW50XG5cdHZhciBmbGVldF9lbWlzc2lvbnMgPSB7XG5cdFx0J1JvYWQnOiAxMjY4OFxuXHR9XG4gXG5cdC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdC8vIEJ1c2luZXNzIGxvZ2ljXG5cdC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cdFxuXHQvLyBbMV0gRWxlY3RyaWMgY2Fyc1xuXHQvLyBBU1NVTVBUSU9OOiB0aGVyZSBhcmUgZXNzZW50aWFsbHkgMCBlbGVjdHJpYyBjYXJzIGluIHRoZSBjdXJyZW50IGZsZWV0XG5cdHZhciBlbGVjdHJpY19jYXJzID0gaW5wdXRzWydlbGVjdHJpY19jYXJzJ107XG5cdHZhciBlbGVjdHJpY19wY3QgPSBlbGVjdHJpY19jYXJzLzEwMDtcblxuXHRmbGVldF9lbWlzc2lvbnNbJ1JvYWQnXSA9IGZsZWV0X2VtaXNzaW9uc1snUm9hZCddICogKDEtZWxlY3RyaWNfcGN0KTtcblxuXHQvLyBBU1NVTVBUSU9OOiBhbnkgdXB0aWNrIGluIHBvd2VyIGdlbmVyYXRpb24gcmVxdWlyZWQgdG8gbWVldFxuXHQvLyBlbGVjdHJpYyBjYXIgZGVtYW5kLCB3aWxsIGJlIG1ldCBwcm9wb3J0aW9uYWxseSBieSBhbGwgZ2VuZXJhdGlvbiBzb3VyY2VzXG5cdC8vIEFTU1VNUFRJT046IHR5cGljYWwgRVYgd2lsbCB1c2UgMC4yIGtXaCBmb3IgMSBrbSB0cmF2ZWxsZWRcblx0Ly8gYXZlcmFnZSB0cmF2ZWwgaXMgMTIwMzIga20gcGVyIHllYXJcblx0Ly8gZmxlZXQgc2l6ZSBpcyAzMzQxMDEzXG5cdGV2X3Bvd2VyX3JlcXRzID0gMTIwMzIgKiAwLjIgKiAzMzQxMDEzICogZWxlY3RyaWNfcGN0O1xuXHRcblx0Ly8gY29udmVydCBrd2ggdG8gZ3doXG5cdGV2X3Bvd2VyX3JlcXRzID0gZXZfcG93ZXJfcmVxdHMgLyAxMDAwMDAwO1xuXG5cdC8vIHdvcmsgb3V0IHRvdGFsIGN1cnJlbnQgZ2VuZXJhdGlvblxuXHR2YXIgdG90YWxfZ2VuID0gMDtcblx0Zm9yICh2YXIga2V5IGluIGdlbl9wcm9kdWN0aW9uKSB7XG5cdFx0dG90YWxfZ2VuICs9IGdlbl9wcm9kdWN0aW9uW2tleV07XG5cdH1cblxuXHR2YXIgaW5jcmVhc2VfaW5fcG93ZXJfcmVxdHMgPSAxICsgKGV2X3Bvd2VyX3JlcXRzIC8gdG90YWxfZ2VuKTtcblx0Y29uc29sZS5sb2coJ3RvdGFsOiAnICsgdG90YWxfZ2VuKTtcblx0Y29uc29sZS5sb2coJ2luY3JlYXNlIGZyb20gZWxlY3RyaWMgdmVoaWNsZXM6ICcgKyBpbmNyZWFzZV9pbl9wb3dlcl9yZXF0cyk7XG5cblx0Y29uc29sZS5sb2coJ2V2X3Bvd2VyX3JlcXRzICcgKyBldl9wb3dlcl9yZXF0cyk7XG5cblx0Zm9yICh2YXIga2V5IGluIGdlbl9lbWlzc2lvbnMpIHtcblx0XHRnZW5fZW1pc3Npb25zW2tleV0gPSBnZW5fZW1pc3Npb25zW2tleV0gKiBpbmNyZWFzZV9pbl9wb3dlcl9yZXF0cztcblx0fVxuXG5cdC8vIGFwcGx5IHRoZSBmYWN0b3IgdG8gdGhlIHByb2R1Y3Rpb25cblx0Zm9yICh2YXIga2V5IGluIGdlbl9wcm9kdWN0aW9uKSB7XG5cdFx0Z2VuX3Byb2R1Y3Rpb25ba2V5XSA9IGdlbl9wcm9kdWN0aW9uW2tleV0gKiBpbmNyZWFzZV9pbl9wb3dlcl9yZXF0cztcblx0fVxuXG5cdC8vIG5vdyBhcHBseSB0aGF0IGZhY3RvciB0byB0aGUgZW1pc3Npb25zIC0gZW1pc3Npb25zIGZyb20gRVYgcG93ZXIgcmVxdWlyZW1lbnRzXG5cdGZvciAodmFyIGtleSBpbiBnZW5fZW1pc3Npb25zKSB7XG5cdFx0Z2VuX2VtaXNzaW9uc1trZXldID0gZ2VuX2VtaXNzaW9uc1trZXldICogaW5jcmVhc2VfaW5fcG93ZXJfcmVxdHM7XG5cdH1cblxuXHQvLyBhbHNvIGFwcGx5IHRoZSBzYW1lIGZhY3RvciB0byB0aGUgZ2VuZXJhdGlvbiBjb3N0XG5cdGZvciAodmFyIGtleSBpbiBnZW5fY29zdCkge1xuXHRcdGdlbl9jb3N0W2tleV0gPSBnZW5fY29zdFtrZXldICogaW5jcmVhc2VfaW5fcG93ZXJfcmVxdHM7XG5cdH1cblxuXHQvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQvLyBPdXRwdXRcblx0Ly8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcblx0dmFyIHJlc3VsdCA9IHtcblx0XHQnZ2VuX3Byb2R1Y3Rpb24nOiBnZW5fcHJvZHVjdGlvbixcblx0XHQnZ2VuX2VtaXNzaW9ucyc6IGdlbl9lbWlzc2lvbnMsXG5cdFx0J2dlbl9jb3N0JzogZ2VuX2Nvc3QsXG5cdFx0J2ZsZWV0X2VtaXNzaW9ucyc6IGZsZWV0X2VtaXNzaW9uc1xuXHR9XG5cblx0Y29uc29sZS5sb2coXCJSZXN1bHQ6IFwiICsgSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XG5cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBnZXRCYXNlbGluZSgpIHtcblxuXHQvLyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuXHQvLyBCYXNlbGluZSBkYXRhIDogMjAxMy8yMDE0XG5cdC8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG5cblx0Ly8gYW5udWFsIGdlbmVyYXRpb24gaW4gR2lnYXdhdHQgSG91cnNcblx0dmFyIGdlbl9wcm9kdWN0aW9uID0ge1xuXHRcdCdIeWRybyc6IDI0MDk1LFxuXHRcdCdHZW90aGVybWFsJzogNjQ4Nyxcblx0XHQnV2luZCc6IDIxODcsXG5cdFx0J0NvYWwnOiAxODMyLFxuXHRcdCdHYXMnOiA2NjI2XG5cdH1cblxuXHQvLyBhbm51YWwgZ2VuZXJhdGlvbiBlbWlzc2lvbnMgaW4gS2lsb3RvbnMgb2YgQ08yIEVxdWl2YWxlbnRcblx0dmFyIGdlbl9lbWlzc2lvbnMgPSB7XG5cdFx0J0h5ZHJvJzogMCxcblx0XHQnR2VvdGhlcm1hbCc6IDg0Ny4zMixcblx0XHQnV2luZCc6IDAsXG5cdFx0J0NvYWwnOiAxMjIyLjIsXG5cdFx0J0dhcyc6IDM0MDUuNTFcblx0fVxuXG5cdC8vIGFubnVhbCBnZW5lcmF0aW9uIGNvc3RzIGluIC4uLj9cblx0Ly8gVE9ETzogd2FpdGluZyBmb3IgdGhlIGFjdHVhbCBudW1iZXJzXG5cdHZhciBnZW5fY29zdCA9IHtcblx0XHQnSHlkcm8nOiAxMDAsXG5cdFx0J0dlb3RoZXJtYWwnOiAxNTAsXG5cdFx0J1dpbmQnOiAyMDAsXG5cdFx0J0NvYWwnOiAyNTAsXG5cdFx0J0dhcyc6IDMwMFxuXHR9XG5cblx0dmFyIHJlc3VsdCA9IHtcblx0XHQnZ2VuX3Byb2R1Y3Rpb24nOiBnZW5fcHJvZHVjdGlvbixcblx0XHQnZ2VuX2VtaXNzaW9ucyc6IGdlbl9lbWlzc2lvbnMsXG5cdFx0J2dlbl9jb3N0JzogZ2VuX2Nvc3QsXG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuIiwiZnVuY3Rpb24gbW9ja0dXaCAoKSB7XG4gIHJldHVybiB7XG5cdFx0J0h5ZHJvJzogMjQwOTUsXG5cdFx0J0dlb3RoZXJtYWwnOiA2NDg3LFxuXHRcdCdXaW5kJzogMjE4Nyxcblx0XHQnQ29hbCc6IDE4MzIsXG5cdFx0J0dhcyc6IDY2MjZcblx0fTtcbn1cblxuZnVuY3Rpb24gbW9ja0FkanVzdEdXaCAoKSB7XG4gIHJldHVybiB7XG5cdFx0J0h5ZHJvJzogMjQsXG5cdFx0J0dlb3RoZXJtYWwnOiA2NDgsXG5cdFx0J1dpbmQnOiAxMjE4LFxuXHRcdCdDb2FsJzogODMyLFxuXHRcdCdHYXMnOiAzNjJcblx0fTtcbn1cblxuZnVuY3Rpb24gbW9ja0dlbmVyYXRpb25FbWlzc2lvbnMgKCkge1xuICByZXR1cm4ge1xuXHRcdCdIeWRybyc6IDAsXG5cdFx0J0dlb3RoZXJtYWwnOiA4NDcuMzIsXG5cdFx0J1dpbmQnOiAwLFxuXHRcdCdDb2FsJzogMTIyMi4yLFxuXHRcdCdHYXMnOiAzNDA1LjUxXG5cdH07XG59XG5cbmZ1bmN0aW9uIG1vY2tGbGVldEVtaXNzaW9ucyAoKSB7XG4gIHJldHVybiB7XG5cdFx0J1JvYWQnOiAxMjY4OFxuXHR9O1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9